# SET VARIABLES
## Bypass MacOS Gatekeeper for Homebrew Cask Installs
export HOMEBREW_CASK_OPTS="--no-quarantine"
## Set null to use bat instead of cat
export NULLCMD=bat

# CHANGE ZSH OPTIONS

# CREATE ALIASES
## Coloured output for ls and git status using exa
alias ls="exa -laFh --git"
alias exa="exa -laFh --git"
## Syntax highlighting for man (manual) pages using bat-extras
alias man=batman
## Syntax highlighting for grep (search) using bat-extras
alias grep=batgrep
## Shows the path variable, split by newline, in bat (default: cat)
alias trail='<<<${(F)path}'
## Remove to system trash
alias rm=trash

# CUSTOMISE PROMPT(S)
autoload colors
colors
source ~/.dotfiles/dotfiles/config/zsh/themes/over-10k.zsh-theme

# ADD LOCATIONS TO $path Array VARIABLE
typeset -U path
path=(
  $path
  "/Applications/Visual Studio Code.app/Contents/Resources/app/bin"
)

## pyenv
### TODO: This currently seems irrelevant as it does not add anything to $PATH.
# local pyenv_path="$HOME/.pyenv"
# export PYENV_ROOT="$HOME/.pyenv"
# command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"

# WRITE FUNCTIONS
function mkcd() {
  mkdir -p "$@" && cd "$_"
}

function cdls() {
  cd "$@" && command exa
}

# USE ZSH PLUGINS
source /opt/homebrew/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh
source ~/.dotfiles/dotfiles/config/zsh/plugins/nvm.zsh

# ...AND OTHER SUPRISES
## Some useful options (man zshoptions)
zle_highlight=('paste:none')

## Basic auto/tab complete:
ZSH_DISABLE_COMPFIX=true
autoload -Uz compinit && compinit
zstyle ':completion:*' menu select
zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}' 'm:{a-zA-Z}={A-Za-z} l:|=* r:|=*'
zmodload zsh/complist
_comp_options+=(globdots)